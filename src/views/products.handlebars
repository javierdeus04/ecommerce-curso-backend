<ul>
    <a href="/profile"><li style="display: inline-block">
        <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
  <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
  <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
</svg>
{{#if user}}
  <script>
    console.log("User Object:", {{user}});
  </script>
  <b>Rol: {{user.role}}</b>
  <h2>Bienvenido {{user.first_name}} {{user.last_name}}</h2>
{{/if}}
{{#unless user}}
  <b>Ingresar</b>
{{/unless}}

</li></a>
    <li style="display: inline-block; float: right"><button id="logout-button"><svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-door-open"
            viewBox="0 0 16 16">
            <path d="M8.5 10c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1" />
            <path
                d="M10.828.122A.5.5 0 0 1 11 .5V1h.5A1.5 1.5 0 0 1 13 2.5V15h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V1.5a.5.5 0 0 1 .43-.495l7-1a.5.5 0 0 1 .398.117zM11.5 2H11v13h1V2.5a.5.5 0 0 0-.5-.5M4 1.934V15h6V1.077z" />
        </svg></button></li>
    <li style="display: inline-block; float: right; margin-right: 20px"><button id="cart-button"><svg xmlns="http://www.w3.org/2000/svg"
                width="36" height="36" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
                <path
                    d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2" />
            </svg></button></li>
    
</ul>

<h1>Productos</h1>

<article>
    <a href="{{baseUrl}}/products">Inicio</a>
    <aside>
        <nav>

            <ul>
                <li>Busqueda por categoria:</li>
                <li style="display: inline-block"><a
                        href="{{baseUrl}}/products?limit=10&page={{page}}&search=Action">Accion</a></li>
                <li style="display: inline-block"><a
                        href="{{baseUrl}}/products?limit=10&page={{page}}&search=Animation">Animacion</a></li>
                <li style="display: inline-block"><a
                        href="{{baseUrl}}/products?limit=10&page={{page}}&search=Adventure">Aventura</a></li>
                <li style="display: inline-block"><a
                        href="{{baseUrl}}/products?limit=10&page={{page}}&search=Comedy">Comedia</a></li>
                <li style="display: inline-block"><a
                        href="{{baseUrl}}/products?limit=10&page={{page}}&search=Crime">Crimen</a></li>
                <li style="display: inline-block"><a
                        href="{{baseUrl}}/products?limit=10&page={{page}}&search=Documentary">Documental</a></li>
                <li style="display: inline-block"><a
                        href="{{baseUrl}}/products?limit=10&page={{page}}&search=Drama">Drama</a></li>
                <li style="display: inline-block"><a
                        href="{{baseUrl}}/products?limit=10&page={{page}}&search=Children">Ni√±os</a></li>
                <li style="display: inline-block"><a
                        href="{{baseUrl}}/products?limit=10&page={{page}}&search=Romance">Romance</a></li>
                <li style="display: inline-block"><a
                        href="{{baseUrl}}/products?limit=10&page={{page}}&search=Horror">Terror</a></li>
                <li style="display: inline-block"><a
                        href="{{baseUrl}}/products?limit=10&page={{page}}&search=Thriller">Thriller</a>
                </li>
            </ul>
        </nav>
    </aside>
    <a href="{{baseUrl}}/products?limit=10&page=1&stock=true">Mostrar solo productos en stock</a>
    <table>
        <tr>
            <th>Titulo</th>
            <th>Categoria</th>
            <th>Precio<br>
                <a href="{{baseUrl}}/products?limit=10&page={{page}}&search={{search}}&sort=asc">
                    <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor"
                        class="bi bi-arrow-down" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1" />
                    </svg>
                </a>
                <a href="{{baseUrl}}/products?limit=10&page={{page}}&search={{search}}&sort=desc">
                    <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor"
                        class="bi bi-arrow-up" viewBox="0 0 16 16">
                        <path fill-rule="evenodd"
                            d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5" />
                    </svg>
                </a>
            </th>
            <th>Codigo</th>
            <th>Stock</th>
        </tr>
        <tbody>
            {{#each payload}}
            <tr>
                <td>{{this.title}}</td>
                <td>{{this.category}}</td>
                <td>{{this.price}}</td>
                <td>{{this.code}}</td>
                <td>{{this.stock}}</td>
                <td><button class="detail-button" data-pid="{{this._id}}"><svg xmlns="http://www.w3.org/2000/svg"
                            width="16" height="16" fill="currentColor" class="bi bi-eye-fill" viewBox="0 0 16 16">
                            <path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z" />
                            <path
                                d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z" />
                        </svg></button></td>
                <td><button class="add-to-cart-button" data-pid="{{this._id}}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-cart" viewBox="0 0 16 16">
                            <path
                                d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2" />
                        </svg></button></td>
            </tr>
            {{/each}}
        </tbody>
    </table>

    <a href="{{prevLink}}" role="button" {{#unless hasPrevPage}}disabled{{/unless}} class="pagination-link">Anterior</a>
    <p role="button" disabled>Pagina actual: {{page}}</p>
    <a href="{{nextLink}}" role="button" {{#unless hasNextPage}}disabled{{/unless}}
        class="pagination-link">Siguiente</a>
</article>

<span>Nota: El boton de "Agregar producto" apareceria solo siendo superuser</span>
<button id="add-button">Agregar producto</button>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"></script>
<script type="module" src="js/products.public.js"></script>